{"ast":null,"code":"import _regeneratorRuntime from\"E:/Aarhat Iserv - E-commerce/new/ariz/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Aarhat Iserv - E-commerce/new/ariz/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Aarhat Iserv - E-commerce/new/ariz/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Trending(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),trendings=_useState2[0],setTrendings=_useState2[1];var _useState3=useState(4),_useState4=_slicedToArray(_useState3,2),showCount=_useState4[0],setShowCount=_useState4[1];var maxShowCount=4;var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),variantSelected=_useState6[0],setVariantSelected=_useState6[1];useEffect(function(){axios.get(\"https://ariz.onrender.com/api/userProduct/userProduct?limit=\".concat(showCount)).then(function(res){console.log(res.data);var trendingProducts=res.data.filter(function(product){return product.type===\"Trending\";});console.log(trendingProducts);setTrendings(trendingProducts.reverse());}).catch(function(err){console.log(err);});},[showCount]);var handleAddtoCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(cartProduct){var selectedVariant,id,cart,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:selectedVariant=cartProduct.variant[variantSelected];id=localStorage.getItem(\"id\");_context.prev=2;cart={productName:selectedVariant.productName,price:selectedVariant.price,imageUrl:selectedVariant.image[0]};_context.next=6;return axios.post(\"https://ariz.onrender.com/api/cart/cart/\".concat(id),cart);case 6:response=_context.sent;console.log(response.data);alert(\"Added to cart\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return function handleAddtoCart(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"py-6 sm:py-8 lg:py-12 bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mx-auto max-w-screen-full px-4 md:px-40\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center text-2xl text-gray-600 md:mb-6 lg:text-5xl\",children:\"Trending Now\"})}),/*#__PURE__*/_jsx(\"div\",{class:\" py-6 sm:py-8 lg:py-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"mx-auto max-w-screen-2xl px-4 md:px-8\",children:/*#__PURE__*/_jsx(\"div\",{class:\"grid gap-x-4 gap-y-8 grid-cols-2  sm:grid-cols-2 md:gap-x-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\",children:trendings.slice(0,showCount).map(function(trending,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/productdetail/\".concat(trending._id),{state:[trending]});},class:\"group relative mb-2 block h-80  sm:h-[480px] overflow-hidden rounded bg-gray-100 shadow-md  lg:mb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:trending.variant[0].image[0],loading:\"lazy\",alt:\"\",className:\"h-full w-full  object-center transition duration-200 group-hover:scale-110\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center gap-2  px-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"!#\",className:\"text-lg font-semibold text-gray-800 transition duration-100 hover:text-gray-500 lg:text-xl\",children:trending.variant[variantSelected].productName}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 py-1 text-lg font-semibold\",children:[\"Rs. \",trending.variant[variantSelected].price]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAddtoCart(trending);},className:\"bg-gray-400 text-black font-semibold py-4 px-4 w-full\",children:\"Add to Cart\"})})]},trending._id);})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"justify-center text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/trending\",class:\"inline-block rounded-lg border justify-center text-center bg-white px-4 py-2  text-sm font-semibold text-gray-700 outline-none ring-indigo-300 transition duration-100 hover:bg-gray-100 focus-visible:ring active:bg-gray-200 md:px-8 md:py-3 md:text-base\",children:\"More Collections\"})})]})});}export default Trending;","map":{"version":3,"names":["useState","useEffect","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Trending","navigate","_useState","_useState2","_slicedToArray","trendings","setTrendings","_useState3","_useState4","showCount","setShowCount","maxShowCount","_useState5","_useState6","variantSelected","setVariantSelected","get","concat","then","res","console","log","data","trendingProducts","filter","product","type","reverse","catch","err","handleAddtoCart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cartProduct","selectedVariant","id","cart","response","wrap","_callee$","_context","prev","next","variant","localStorage","getItem","productName","price","imageUrl","image","post","sent","alert","t0","error","stop","_x","apply","arguments","className","children","class","slice","map","trending","index","onClick","_id","state","src","loading","alt","href","to"],"sources":["E:/Aarhat Iserv - E-commerce/new/ariz/Frontend/src/components/Trending/Trending.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Trending() {\r\n  const navigate = useNavigate();\r\n  const [trendings, setTrendings] = useState([]);\r\n  const [showCount, setShowCount] = useState(4);\r\n  const maxShowCount = 4;\r\n  const [variantSelected, setVariantSelected] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        `https://ariz.onrender.com/api/userProduct/userProduct?limit=${showCount}`\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        const trendingProducts = res.data.filter(\r\n          (product) => product.type === \"Trending\"\r\n        );\r\n        console.log(trendingProducts);\r\n        setTrendings(trendingProducts.reverse());\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [showCount]);\r\n\r\n  const handleAddtoCart = async (cartProduct) => {\r\n    const selectedVariant = cartProduct.variant[variantSelected];\r\n    var id = localStorage.getItem(\"id\");\r\n    try {\r\n      const cart = {\r\n        productName: selectedVariant.productName,\r\n        price: selectedVariant.price,\r\n        imageUrl: selectedVariant.image[0],\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `https://ariz.onrender.com/api/cart/cart/${id}`,\r\n        cart\r\n      );\r\n      console.log(response.data);\r\n      alert(\"Added to cart\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"py-6 sm:py-8 lg:py-12 bg-gray-100\">\r\n      <div class=\"mx-auto max-w-screen-full px-4 md:px-40\">\r\n        <div className=\"mb-8\">\r\n          <h2 className=\"mb-4 text-center text-2xl text-gray-600 md:mb-6 lg:text-5xl\">\r\n            Trending Now\r\n          </h2>\r\n        </div>\r\n\r\n        <div class=\" py-6 sm:py-8 lg:py-12\">\r\n          <div class=\"mx-auto max-w-screen-2xl px-4 md:px-8\">\r\n            <div class=\"grid gap-x-4 gap-y-8 grid-cols-2  sm:grid-cols-2 md:gap-x-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\">\r\n              {trendings.slice(0, showCount).map((trending, index) => (\r\n                <div\r\n                  key={trending._id}\r\n                  className=\"flex flex-col h-full justify-between\"\r\n                >\r\n                  <button\r\n                    onClick={() =>\r\n                      navigate(`/productdetail/${trending._id}`, {\r\n                        state: [trending],\r\n                      })\r\n                    }\r\n                    class=\"group relative mb-2 block h-80  sm:h-[480px] overflow-hidden rounded bg-gray-100 shadow-md  lg:mb-3\"\r\n                  >\r\n                    <img\r\n                      src={trending.variant[0].image[0]}\r\n                      loading=\"lazy\"\r\n                      alt=\"\"\r\n                      className=\"h-full w-full  object-center transition duration-200 group-hover:scale-110\"\r\n                    />\r\n                  </button>\r\n\r\n                  <div className=\"flex items-center justify-center gap-2  px-2\">\r\n                    <div className=\"flex flex-col\">\r\n                      <a\r\n                        href=\"!#\"\r\n                        className=\"text-lg font-semibold text-gray-800 transition duration-100 hover:text-gray-500 lg:text-xl\"\r\n                      >\r\n                        {trending.variant[variantSelected].productName}\r\n                      </a>\r\n                      <span className=\"text-gray-500 py-1 text-lg font-semibold\">\r\n                        Rs. {trending.variant[variantSelected].price}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"py-2\">\r\n                    <button\r\n                      onClick={() => handleAddtoCart(trending)}\r\n                      className=\"bg-gray-400 text-black font-semibold py-4 px-4 w-full\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"justify-center text-center\">\r\n          <Link\r\n            to=\"/trending\"\r\n            class=\"inline-block rounded-lg border justify-center text-center bg-white px-4 py-2  text-sm font-semibold text-gray-700 outline-none ring-indigo-300 transition duration-100 hover:bg-gray-100 focus-visible:ring active:bg-gray-200 md:px-8 md:py-3 md:text-base\"\r\n          >\r\n            More Collections\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Trending;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}